<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>49.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <choices>
        <name>clone_w_product</name>
        <choiceText>Clone Opportunity With Products</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Yes</stringValue>
        </value>
    </choices>
    <choices>
        <name>clone_wt_product</name>
        <choiceText>Clone Opportunity without Products</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>No</stringValue>
        </value>
    </choices>
    <decisions>
        <name>Clone_Decision</name>
        <label>Clone Decision</label>
        <locationX>251</locationX>
        <locationY>294</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>clone_with_product</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Please_select_from_below_options</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Yes</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>New_Oppty_after_Clonning</targetReference>
            </connector>
            <label>clone with product</label>
        </rules>
        <rules>
            <name>clone_without_product</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Please_select_from_below_options</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>No</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>clone_opp_wt_product</targetReference>
            </connector>
            <label>clone without product</label>
        </rules>
    </decisions>
    <formulas>
        <name>redURL</name>
        <dataType>String</dataType>
        <expression>{!oppID}</expression>
    </formulas>
    <interviewLabel>New Opp {!$Flow.CurrentDateTime}</interviewLabel>
    <label>New Opp</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <screens>
        <name>Clone_Selection</name>
        <label>Clone Selection</label>
        <locationX>149</locationX>
        <locationY>132</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Clone_Decision</targetReference>
        </connector>
        <fields>
            <name>Please_select_from_below_options</name>
            <choiceReferences>clone_w_product</choiceReferences>
            <choiceReferences>clone_wt_product</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please select from below options</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>false</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Cloned_Opportunity</name>
        <label>Cloned Opportunity</label>
        <locationX>483</locationX>
        <locationY>39</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Cloned_Oppty</name>
            <fieldText>&lt;p&gt;New Cloned Opportunity -&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;/{!oppID}&quot; target=&quot;_blank&quot;&gt;/{!oppID}&lt;/a&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Cloned_Opportunity_0</name>
        <label>Cloned Opportunity</label>
        <locationX>732</locationX>
        <locationY>287</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Cloned_Oppty_0</name>
            <fieldText>&lt;p&gt;New Cloned Opportunity -&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;/{!oppID_wt_product}&quot; target=&quot;_blank&quot;&gt;/{!oppID_wt_product}&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>41</locationX>
        <locationY>47</locationY>
        <connector>
            <targetReference>Clone_Selection</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>clone_opp_wt_product</name>
        <label>clone without product</label>
        <locationX>434</locationX>
        <locationY>281</locationY>
        <connector>
            <targetReference>Cloned_Opportunity_0</targetReference>
        </connector>
        <flowName>Clone_Opportunity_Without_Product</flowName>
        <inputAssignments>
            <name>VarT_OldOpportunityId</name>
            <value>
                <elementReference>oppty</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>oppID_wt_product</assignToReference>
            <name>VarT_NewOpportunityId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>New_Oppty_after_Clonning</name>
        <label>New Oppty after Clonning</label>
        <locationX>284</locationX>
        <locationY>41</locationY>
        <connector>
            <targetReference>Cloned_Opportunity</targetReference>
        </connector>
        <flowName>Clone_Opportunity</flowName>
        <inputAssignments>
            <name>VarT_OldOpportunityId</name>
            <value>
                <elementReference>oppty</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>newOpp</assignToReference>
            <name>SOC_NewOLI</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>oppID</assignToReference>
            <name>VarT_NewOpportunityId</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>newOpp</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>oppID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>oppID_wt_product</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>oppty</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
