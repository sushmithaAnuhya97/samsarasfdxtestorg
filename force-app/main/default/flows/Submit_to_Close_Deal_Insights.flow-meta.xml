<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>64.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Assignment_8</name>
        <label>Assignment 8</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>AmendedContract</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Upsell</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Closed_Deal_Insights</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assignment_9</name>
        <label>Assignment 9</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>AmendedContract</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Upsell</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Closed_Deal_Insights</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>CA_Competitor</name>
        <label>CA_Competitor</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>Competitor_CA</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.competitorsParticipated</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>check_existing_record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Default</name>
        <label>Default</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>closedDealReason</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.reason</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>closedDealSubReason</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.subReason</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>whyWeWon</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.Notes</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>US_or_CA_or_MX_or_EMEA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>EMEA_Competitor</name>
        <label>EMEA_Competitor</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>Competitor_EMEA</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.competitorsParticipated</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>check_existing_record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>MX_Competitor</name>
        <label>MX_Competitor</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>Competitor_MX</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.competitorsParticipated</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>check_existing_record</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>No_Amended_Contract</name>
        <label>No Amended Contract</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>AmendedContract</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Closed_Deal_Insights</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>otherReasonAssignment</name>
        <label>otherReasonAssignment</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>whyWeWon</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.Notes</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>closedDealReason</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.reason</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>closedDealSubReason</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.subReason</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>US_or_CA_or_MX_or_EMEA</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>USCompetitor</name>
        <label>USCompetitor</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignmentItems>
            <assignToReference>Competitor_US</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>closedDeal.competitorsParticipated</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>check_existing_record</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>BillingCountryCode</name>
        <label>BillingCountryCode</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Get</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>country_code_not_null</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>billingCountry</leftValueReference>
                <operator>EqualTo</operator>
            </conditions>
            <conditions>
                <leftValueReference>billingCountry</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>BillingCountryBlank</targetReference>
            </connector>
            <label>country code is blank</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Amended_Contract</name>
        <label>Check Amended Contract</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>QuoteLine</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>AmendedContract_Not_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get.SBQQ__AmendedContract__c</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get.SBQQ__AmendedContract__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>No_Amended_Contract</targetReference>
            </connector>
            <label>AmendedContract Not Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_Type</name>
        <label>Opportunity Type</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>CompetitveIntelScreen</name>
            <conditionLogic>(1 AND 4 AND 5 AND 6) OR (1 AND(( 2 AND 4) OR (3 AND 7)))</conditionLogic>
            <conditions>
                <leftValueReference>Get.Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Revenue Opportunity</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Renewal</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get.Is_Webstore_Upsell_Opportunity__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>WebStore</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get.Is_Webstore_Upsell_Opportunity__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get.SBQQ__RenewedContract__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get.Renewal__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>WebStore</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Amended_Contract</targetReference>
            </connector>
            <label>Competitve Intel Screen</label>
        </rules>
    </decisions>
    <decisions>
        <name>otherReasonExists</name>
        <label>otherReasonExists?</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Default</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>otherReasonSpecified</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>closedDeal.Notes</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>closedDeal.Notes</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>otherReasonAssignment</targetReference>
            </connector>
            <label>otherReasonSpecified</label>
        </rules>
    </decisions>
    <decisions>
        <name>Update_or_Create</name>
        <label>Update or Create</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>create_closed_insights</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Insert</defaultConnectorLabel>
        <rules>
            <name>Update</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>check_existing_record</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>check_existing_record</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <connector>
                <targetReference>Update_closed_deal_insights</targetReference>
            </connector>
            <label>Update</label>
        </rules>
    </decisions>
    <decisions>
        <name>Upsellexists</name>
        <label>Upsell exists?</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>Assignment_9</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>YES</defaultConnectorLabel>
        <rules>
            <name>No</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>QuoteLine</leftValueReference>
                <operator>IsBlank</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>QuoteLine</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assignment_8</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>US_or_CA_or_MX_or_EMEA</name>
        <label>US or CA or MX or EMEA</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>EMEA_Competitor</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>EMEA</defaultConnectorLabel>
        <rules>
            <name>US</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>billingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>US</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>USCompetitor</targetReference>
            </connector>
            <label>US</label>
        </rules>
        <rules>
            <name>CA</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>billingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CA</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>CA_Competitor</targetReference>
            </connector>
            <label>CA</label>
        </rules>
        <rules>
            <name>MX</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>billingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>MX</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>MX_Competitor</targetReference>
            </connector>
            <label>MX</label>
        </rules>
    </decisions>
    <decisions>
        <name>Value_already_Exists</name>
        <label>Value already Exists</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <defaultConnector>
            <targetReference>BillingCountryCode</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Value_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Closed_deal_insights</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Closed_deal_insights</leftValueReference>
                <operator>NotEqualTo</operator>
            </conditions>
            <label>Value Exists</label>
        </rules>
    </decisions>
    <description>GTMS-28628,GTMS-28601</description>
    <environments>Default</environments>
    <formulas>
        <name>Renewal</name>
        <dataType>Boolean</dataType>
        <expression>{!$Label.Submit_to_Close_Competitive_Intel_Screen_for_Renewal}==&apos;true&apos; &amp;&amp;(ISBLANK({!Get.SBQQ__RenewedContract__c})!=false || {!Get.Renewal__c}==true)</expression>
    </formulas>
    <formulas>
        <description>Check whether the Opportunity is webstore or not</description>
        <name>WebStore</name>
        <dataType>Boolean</dataType>
        <expression>{!$Label.Submit_to_Close_Competitive_Intel_Screen_for_Webstore}==&apos;true&apos;</expression>
    </formulas>
    <interviewLabel>Submit to Close Deal Insights {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Submit to Close Deal Insights</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>create_closed_insights</name>
        <label>create closed insights</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Update_Log</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CAN_Competitors__c</field>
            <value>
                <elementReference>Competitor_CA</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Closed_Won_Reason__c</field>
            <value>
                <elementReference>closedDealReason</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Closed_Won_Sub_Reason__c</field>
            <value>
                <elementReference>closedDealSubReason</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Competitor_Won__c</field>
            <value>
                <elementReference>closedDeal.selectedPicklistValue</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EMEA_Competitors__c</field>
            <value>
                <elementReference>Competitor_EMEA</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_Competitors__c</field>
            <value>
                <elementReference>Competitor_MX</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Notes_Why_we_won__c</field>
            <value>
                <elementReference>whyWeWon</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_of_Data_Creation__c</field>
            <value>
                <elementReference>picklistValue</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>US_Competitors__c</field>
            <value>
                <elementReference>Competitor_US</elementReference>
            </value>
        </inputAssignments>
        <object>Closed_Deal_Insights__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>Start_Logging</name>
        <label>Start Logging</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignRecordIdToReference>LogRecordId</assignRecordIdToReference>
        <connector>
            <targetReference>Get_Closed_deal_insights</targetReference>
        </connector>
        <inputAssignments>
            <field>ClassName__c</field>
            <value>
                <stringValue>Submit to Close Deal Insights</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Context_User__c</field>
            <value>
                <elementReference>$User.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LogLevel__c</field>
            <value>
                <stringValue>Log</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Response__c</field>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Start_Date_Time__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type__c</field>
            <value>
                <stringValue>Screen flow</stringValue>
            </value>
        </inputAssignments>
        <object>Log__c</object>
    </recordCreates>
    <recordLookups>
        <name>check_existing_record</name>
        <label>check existing record</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Update_or_Create</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Source_of_Data_Creation__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Submit to Close</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Closed_Deal_Insights__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get</name>
        <label>GetOpportunityRecords</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>To get the closed deal insights</description>
        <name>Get_Closed_deal_insights</name>
        <label>Get Closed deal insights</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Value_already_Exists</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Source_of_Data_Creation__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Submit to Close</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Closed_Deal_Insights__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>QuoteLine</name>
        <label>QuoteLineItem</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Upsellexists</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SBQQ__Quote__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get.SBQQ__PrimaryQuote__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>LineItem_type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Upsell</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>SBQQ__QuoteLine__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_closed_deal_insights</name>
        <label>Update closed deal insights</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Update_Log</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Account__c</field>
            <value>
                <elementReference>AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CAN_Competitors__c</field>
            <value>
                <elementReference>Competitor_CA</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Closed_Won_Reason__c</field>
            <value>
                <elementReference>closedDealReason</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Closed_Won_Sub_Reason__c</field>
            <value>
                <elementReference>closedDealSubReason</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Competitor_Won__c</field>
            <value>
                <elementReference>closedDeal.selectedPicklistValue</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EMEA_Competitors__c</field>
            <value>
                <elementReference>Competitor_EMEA</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MX_Competitors__c</field>
            <value>
                <elementReference>Competitor_MX</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Notes_Why_we_won__c</field>
            <value>
                <elementReference>whyWeWon</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Source_of_Data_Creation__c</field>
            <value>
                <stringValue>Submit to Close</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>US_Competitors__c</field>
            <value>
                <elementReference>Competitor_US</elementReference>
            </value>
        </inputAssignments>
        <object>Closed_Deal_Insights__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Log</name>
        <label>Update Log</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>LogRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>End_Date_Time__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <object>Log__c</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>BillingCountryBlank</name>
        <label>BillingCountry</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>billingCountryBlankMessage</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;Billing Country for this Account is not Populated. Populate Billing Country for this Account&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Closed_Deal_Insights</name>
        <label>Closed Deal Insights</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>otherReasonExists</targetReference>
        </connector>
        <fields>
            <name>DisplayText0</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;Closed Deal Insights&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Your insights help us to improve and optimize across Samsara&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>displayText1</name>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>closedDeal</name>
            <extensionName>c:submitToClosingClosedDealInsights</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>billingCountry</name>
                <value>
                    <elementReference>billingCountry</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>competitorsParticipated</name>
                <value>
                    <elementReference>competitorsParticipated</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>selectedPicklistValue</name>
                <value>
                    <elementReference>selectedPicklistValue</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>competitorReplaced</name>
                <value>
                    <elementReference>competitorReplaced</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>Notes</name>
                <value>
                    <elementReference>Notes</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>Upsell</name>
                <value>
                    <elementReference>Upsell</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>AmendedContract</name>
                <value>
                    <elementReference>AmendedContract</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>reason</name>
                <value>
                    <elementReference>reason</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>subReason</name>
                <value>
                    <elementReference>subReason</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Error_Screen</name>
        <label>Error Screen</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Exception</targetReference>
        </connector>
        <fields>
            <name>FaultErrorMessage</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 15px; font-family: Arial, &amp;quot;Helvetica Neue&amp;quot;, Helvetica, sans-serif; color: rgb(250, 4, 34);&quot;&gt;{!$Flow.FaultMessage}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Start_Logging</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>Exception</name>
        <label>Exception</label>
        <locationX>0</locationX>
        <locationY>0</locationY>
        <flowName>Exception_Handler_Flow</flowName>
        <inputAssignments>
            <name>faultMessage</name>
            <value>
                <elementReference>FaultMessage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>LogRecordId</name>
            <value>
                <elementReference>LogRecordId</elementReference>
            </value>
        </inputAssignments>
    </subflows>
    <textTemplates>
        <name>FaultMessage</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(255, 0, 0);&quot;&gt;{!$Flow.FaultMessage}&lt;/span&gt;&lt;/p&gt;</text>
    </textTemplates>
    <variables>
        <name>AccountId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>AmendedContract</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>billingCountry</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>closedDealReason</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>closedDealSubReason</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Competitor_CA</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Competitor_EMEA</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Competitor_MX</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Competitor_US</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>competitorReplaced</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>competitorsParticipated</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>LogRecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Notes</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>OpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>picklistValue</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>Submit to Close</stringValue>
        </value>
    </variables>
    <variables>
        <name>reason</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>selectedPicklistValue</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>subReason</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>Upsell</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>whyWeWon</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
