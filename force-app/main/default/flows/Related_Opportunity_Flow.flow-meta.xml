<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Update_Owner_and_Copy_Fields_to_Return</name>
        <label>Update Owner and Copy Fields to Return</label>
        <locationX>3042</locationX>
        <locationY>674</locationY>
        <actionName>RelatedReturnOpportunityController</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Success_Screen</targetReference>
        </connector>
        <flowTransactionModel>Automatic</flowTransactionModel>
        <inputParameters>
            <name>oppIds</name>
            <value>
                <elementReference>ReturnRevenueIdSet</elementReference>
            </value>
        </inputParameters>
        <nameSegment>RelatedReturnOpportunityController</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <apiVersion>50.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <name>Add_Junction_Records_to_List</name>
        <label>Add Junction Records to List</label>
        <locationX>2338</locationX>
        <locationY>1214</locationY>
        <assignmentItems>
            <assignToReference>RelatedOppJunction</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>RelRec</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_to_create_Junction</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Opp_to_the_list</name>
        <label>Add Opp to the list</label>
        <locationX>1898</locationX>
        <locationY>998</locationY>
        <assignmentItems>
            <assignToReference>RelatedOppsToInsert</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>OppInLoop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NoOfOppsIndex</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>NameIndx</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>hasMoreOppsToCreate</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>CreateIndividualJuncionRec</name>
        <label>CreateIndividualJuncionRec</label>
        <locationX>2338</locationX>
        <locationY>1106</locationY>
        <assignmentItems>
            <assignToReference>RelRec.Associated_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_to_create_Junction.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RelRec.Revenue_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RelRec.Sub_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Opportunity_Type</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Junction_Records_to_List</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>CreateOpp</name>
        <label>CreateOpp</label>
        <locationX>1898</locationX>
        <locationY>890</locationY>
        <assignmentItems>
            <assignToReference>OppInLoop.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Revenue Opportunity</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OppInLoop.ContractId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RevenueOpportunity.ContractId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OppInLoop.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RevOppAccId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OppInLoop.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>oppCustomName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OppInLoop.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RevenueOpportunity.CloseDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OppInLoop.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Incubate</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OppInLoop.SBQQ__AmendedContract__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RevenueOpportunity.SBQQ__AmendedContract__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>OppInLoop.SBQQ__PrimaryQuote__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RevenueOpportunity.SBQQ__PrimaryQuote__r.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Opp_to_the_list</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>NameIndx_Assignment</name>
        <label>NameIndx Assignment</label>
        <locationX>2206</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>NameIndx</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>hasMoreOppsToCreate</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>OppNameCustom</name>
        <label>OppNameCustom</label>
        <locationX>1898</locationX>
        <locationY>782</locationY>
        <assignmentItems>
            <assignToReference>oppCustomName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RelOppNameCustom</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>CreateOpp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Populate_ReturnRevenueIdSet</name>
        <label>Populate ReturnRevenueIdSet</label>
        <locationX>3042</locationX>
        <locationY>566</locationY>
        <assignmentItems>
            <assignToReference>ReturnRevenueIdSet</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>ReturnRevenueIdSet</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Revenue_Opportunityy.recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Owner_and_Copy_Fields_to_Return</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Related_Opportunity_Values</name>
        <label>Set Related Opportunity Values</label>
        <locationX>710</locationX>
        <locationY>974</locationY>
        <assignmentItems>
            <assignToReference>RelatedOpp_Record.Associated_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RelatedOpp_Record.Sub_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Consolidated_Renewal_Const</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>RelatedOpp_Record.Revenue_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Associated_Revenue_Opportunity.recordId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Consolidated_Renewal_Id</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>Exit_Update</name>
        <choiceText>Rollback and Exit</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Exit</stringValue>
        </value>
    </choices>
    <choices>
        <name>Retry_Update</name>
        <choiceText>Retry</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Retry</stringValue>
        </value>
    </choices>
    <constants>
        <name>Consolidated_Renewal_Const</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Consolidated Renewal</stringValue>
        </value>
    </constants>
    <constants>
        <name>RelatedOpportunity</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Related Opportunity</stringValue>
        </value>
    </constants>
    <constants>
        <name>RevenueOppTxt</name>
        <dataType>String</dataType>
        <value>
            <stringValue>Revenue Opportunity</stringValue>
        </value>
    </constants>
    <decisions>
        <name>Check_If_Records_exist_to_insert</name>
        <label>Check If Records exist to insert</label>
        <locationX>2514</locationX>
        <locationY>782</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>RecordExists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RelatedOppsToInsert</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>insertRelOpps</targetReference>
            </connector>
            <label>RecordExists</label>
        </rules>
    </decisions>
    <decisions>
        <name>hasMoreOppsToCreate</name>
        <label>hasMoreOppsToCreate</label>
        <locationX>2206</locationX>
        <locationY>674</locationY>
        <defaultConnector>
            <targetReference>Check_If_Records_exist_to_insert</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>hasOpps</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Number_of_Opportunities_to_create</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>NoOfOppsIndex</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>OppNameCustom</targetReference>
            </connector>
            <label>hasOpps</label>
        </rules>
    </decisions>
    <decisions>
        <name>Should_Retry_Update</name>
        <label>Should Retry Update</label>
        <locationX>710</locationX>
        <locationY>1622</locationY>
        <defaultConnectorLabel>Rollback and Exit</defaultConnectorLabel>
        <rules>
            <name>Should_Retry</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>UpdateFault_1_Options</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Retry_Update</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Set_Consolidated_Renewal_Id</targetReference>
            </connector>
            <label>Should Retry</label>
        </rules>
    </decisions>
    <decisions>
        <name>Sub_Type_Decision_Node</name>
        <label>Sub Type Decision Node</label>
        <locationX>2074</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Other_Types</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Paid_Pilot_Flow</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Paid Pilot</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Paid_Pilot</targetReference>
            </connector>
            <label>Paid Pilot Flow</label>
        </rules>
        <rules>
            <name>Consolidated_Renewal</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Consolidated Renewal</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Fetch_Related_Opportunity</targetReference>
            </connector>
            <label>Consolidated Renewal</label>
        </rules>
        <rules>
            <name>Related_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>RelatedOpportunity</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Number_of_Opportnities</targetReference>
            </connector>
            <label>Related Opportunity</label>
        </rules>
        <rules>
            <name>Upgrade_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Upgrade Opportunity</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Junction_b_w_Return_and_New_Revenue_Opportunity</targetReference>
            </connector>
            <label>Upgrade Opportunity</label>
        </rules>
        <rules>
            <name>Fixed_End_Date_flow</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Fixed End Date</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>FixedEndDateOppty_creation</targetReference>
            </connector>
            <label>Fixed End Date flow</label>
        </rules>
    </decisions>
    <decisions>
        <name>Upsert_Update_or_Insert_Related_Opp</name>
        <label>Upsert - Update or Insert Related Opp</label>
        <locationX>710</locationX>
        <locationY>1190</locationY>
        <defaultConnector>
            <targetReference>Insert_Related_Opportunity_Record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Id Populated</defaultConnectorLabel>
        <rules>
            <name>Has_Id_Populated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RelatedOpp_Record.Id</leftValueReference>
                <operator>WasSet</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>RelatedOpp_Record.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>RelatedOpp_Record.Id</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Related_Opportunity</targetReference>
            </connector>
            <label>Has Id Populated</label>
        </rules>
    </decisions>
    <decisions>
        <name>Validate_if_Consolidated</name>
        <label>Validate if Consolidated</label>
        <locationX>710</locationX>
        <locationY>566</locationY>
        <defaultConnector>
            <targetReference>Consolidated_Renewal_Opportunity_Selection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Consolidated Renewal Junction</defaultConnectorLabel>
        <rules>
            <name>Already_has_a_Consolidated_Renewal_Junction</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RevenueOpportunity.Consolidated_Renewal_Opportunity_Id__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>RevenueOpportunity.Consolidated_Renewal_Opportunity_Id__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Consolidated_Renewal_Id_was_already_set</targetReference>
            </connector>
            <label>Already has a Consolidated Renewal Junction</label>
        </rules>
    </decisions>
    <description>GTMS-27442 - Process to link the return opportunity with the new revenue opportunity.
GTMS-29983 --Fixed End Date type Automation</description>
    <dynamicChoiceSets>
        <name>FixedEndDateReasons</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Reason__c</picklistField>
        <picklistObject>Related_Opportunity__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>TypeofOpportunities</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Sub_Type__c</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>TypeOfRelatedOpportunities</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Sub_Type__c</picklistField>
        <picklistObject>Related_Opportunity__c</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>Appendpaidpilot</name>
        <dataType>String</dataType>
        <expression>{!RevenueOpportunity.Name}&amp;&quot; Paid Pilot&quot;</expression>
    </formulas>
    <formulas>
        <name>OrgUrl</name>
        <dataType>String</dataType>
        <expression>LEFT({!$Api.Partner_Server_URL_340}, FIND( &apos;/services&apos;, {!$Api.Partner_Server_URL_340}))</expression>
    </formulas>
    <formulas>
        <name>RelOppNameCustom</name>
        <dataType>String</dataType>
        <expression>{!RevenueOpportunity.Name}&amp;&apos; &apos;&amp;Text({!NameIndx})</expression>
    </formulas>
    <formulas>
        <name>RevOppAccId</name>
        <dataType>String</dataType>
        <expression>{!RevenueOpportunity.AccountId}</expression>
    </formulas>
    <interviewLabel>Related Opportunity Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Related Opportunity Flow</label>
    <loops>
        <name>Loop_to_create_Junction</name>
        <label>Loop to create Junction</label>
        <locationX>2250</locationX>
        <locationY>998</locationY>
        <collectionReference>RelatedOppsToInsert</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>CreateIndividualJuncionRec</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Insert_Related_Opp_Junction</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Junction_Record_1</name>
        <label>Create Junction Record 1</label>
        <locationX>50</locationX>
        <locationY>566</locationY>
        <connector>
            <targetReference>Flow_Complete</targetReference>
        </connector>
        <inputAssignments>
            <field>Associated_Opportunity__c</field>
            <value>
                <elementReference>PaidPilotId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Revenue_Opportunity__c</field>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sub_Type__c</field>
            <value>
                <elementReference>Selected_Opportunity_Type</elementReference>
            </value>
        </inputAssignments>
        <object>Related_Opportunity__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>FixedEndDateOppty_creation</name>
        <label>FixedEndDateOppty_creation</label>
        <locationX>3570</locationX>
        <locationY>458</locationY>
        <assignRecordIdToReference>relatedOpportunityObjectRecId</assignRecordIdToReference>
        <connector>
            <targetReference>FixedOpptySuccessscreen</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Roll_Back</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Associated_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Associated_Opportunity__c</field>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Reason__c</field>
            <value>
                <elementReference>Reason</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Revenue_Opportunity__c</field>
            <value>
                <elementReference>Revenue_Opportunityy.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sub_Type__c</field>
            <value>
                <elementReference>Selected_Opportunity_Type</elementReference>
            </value>
        </inputAssignments>
        <object>Related_Opportunity__c</object>
        <operationMultMatchingRecords>UpdateLatestRecord</operationMultMatchingRecords>
        <operationOneMatchingRecord>UpdateAllRecords</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
    </recordCreates>
    <recordCreates>
        <name>Insert_Related_Opp_Junction</name>
        <label>Insert Related Opp Junction</label>
        <locationX>2250</locationX>
        <locationY>1406</locationY>
        <connector>
            <targetReference>Related_Opportunity_Flow</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Roll_Back</targetReference>
        </faultConnector>
        <inputReference>RelatedOppJunction</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Insert_Related_Opportunity_Record</name>
        <label>Insert Related Opportunity Record</label>
        <locationX>1106</locationX>
        <locationY>1298</locationY>
        <connector>
            <targetReference>Flow_Complete_2</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Setting_Consolidated_Renew_Id</targetReference>
        </faultConnector>
        <inputReference>RelatedOpp_Record</inputReference>
    </recordCreates>
    <recordCreates>
        <name>insertRelOpps</name>
        <label>insertRelOpps</label>
        <locationX>2250</locationX>
        <locationY>890</locationY>
        <connector>
            <targetReference>Loop_to_create_Junction</targetReference>
        </connector>
        <inputReference>RelatedOppsToInsert</inputReference>
    </recordCreates>
    <recordCreates>
        <description>Create a junction record( Related_Opportunity__c ) b/w the return and the new revenue opportunity and store the id of the newly generate record( Related Opportunity Object ) into the variable - relatedOpportunityObjectRecId</description>
        <name>Junction_b_w_Return_and_New_Revenue_Opportunity</name>
        <label>Junction b/w Return and New Revenue Opportunity</label>
        <locationX>3042</locationX>
        <locationY>458</locationY>
        <assignRecordIdToReference>relatedOpportunityObjectRecId</assignRecordIdToReference>
        <connector>
            <targetReference>Populate_ReturnRevenueIdSet</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Roll_Back</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Associated_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Associated_Opportunity__c</field>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Revenue_Opportunity__c</field>
            <value>
                <elementReference>Revenue_Opportunityy.recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sub_Type__c</field>
            <value>
                <stringValue>Upgrade Opportunity</stringValue>
            </value>
        </inputAssignments>
        <object>Related_Opportunity__c</object>
        <operationMultMatchingRecords>UpdateLatestRecord</operationMultMatchingRecords>
        <operationOneMatchingRecord>UpdateAllRecords</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
    </recordCreates>
    <recordCreates>
        <name>Paid_Pilot</name>
        <label>Paid Pilot</label>
        <locationX>50</locationX>
        <locationY>458</locationY>
        <assignRecordIdToReference>PaidPilotId</assignRecordIdToReference>
        <connector>
            <targetReference>Create_Junction_Record_1</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>RevenueOpportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CloseDate</field>
            <value>
                <elementReference>RevenueOpportunity.CloseDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <elementReference>RevenueOpportunity.CurrencyIsoCode</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>License_Term__c</field>
            <value>
                <numberValue>12.0</numberValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>Appendpaidpilot</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Incubate</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sub_Type__c</field>
            <value>
                <elementReference>Selected_Opportunity_Type</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordCreates>
    <recordLookups>
        <name>Fetch_Related_Opportunity</name>
        <label>Fetch Related Opportunity</label>
        <locationX>710</locationX>
        <locationY>458</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Validate_if_Consolidated</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Associated_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Sub_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Consolidated_Renewal_Const</elementReference>
            </value>
        </filters>
        <object>Related_Opportunity__c</object>
        <outputReference>RelatedOpp_Record</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Associated_Opportunity__c</queriedFields>
        <queriedFields>Sub_Type__c</queriedFields>
        <queriedFields>Revenue_Opportunity__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Get the Opportunity records.</description>
        <name>Related_Revenue_Opportunity</name>
        <label>Related Revenue Opportunity</label>
        <locationX>2074</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>RevenueOpportunity</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>AccountId</queriedFields>
        <queriedFields>CloseDate</queriedFields>
        <queriedFields>StageName</queriedFields>
        <queriedFields>CurrencyIsoCode</queriedFields>
        <queriedFields>Sub_Type__c</queriedFields>
        <queriedFields>Consolidated_Renewal_Opportunity_Id__c</queriedFields>
        <queriedFields>ContractId</queriedFields>
        <queriedFields>SBQQ__AmendedContract__c</queriedFields>
    </recordLookups>
    <recordRollbacks>
        <name>Failsafe_Rollback_1</name>
        <label>Failsafe Rollback 1</label>
        <locationX>710</locationX>
        <locationY>1514</locationY>
        <connector>
            <targetReference>Should_Retry_Update</targetReference>
        </connector>
    </recordRollbacks>
    <recordRollbacks>
        <name>Roll_Back</name>
        <label>Roll Back</label>
        <locationX>2514</locationX>
        <locationY>1514</locationY>
        <connector>
            <targetReference>Error_Screen</targetReference>
        </connector>
    </recordRollbacks>
    <recordUpdates>
        <name>Set_Consolidated_Renewal_Id</name>
        <label>Set Consolidated Renewal Id</label>
        <locationX>710</locationX>
        <locationY>1082</locationY>
        <connector>
            <targetReference>Upsert_Update_or_Insert_Related_Opp</targetReference>
        </connector>
        <faultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Error_Setting_Consolidated_Renew_Id</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>RevenueOpportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Consolidated_Renewal_Opportunity_Id__c</field>
            <value>
                <elementReference>Associated_Revenue_Opportunity.recordId</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Related_Opportunity</name>
        <label>Update Related Opportunity</label>
        <locationX>314</locationX>
        <locationY>1298</locationY>
        <connector>
            <targetReference>Flow_Complete_2</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Setting_Consolidated_Renew_Id</targetReference>
        </faultConnector>
        <inputReference>RelatedOpp_Record</inputReference>
    </recordUpdates>
    <runInMode>SystemModeWithSharing</runInMode>
    <screens>
        <description>Error screen to avoid updating the Consolidated Opportunity Id</description>
        <name>Consolidated_Renewal_Id_was_already_set</name>
        <label>Consolidated Renewal Id was already set</label>
        <locationX>578</locationX>
        <locationY>674</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Consolidated_Renewal_Opportunity_Selection</targetReference>
        </connector>
        <fields>
            <name>Junction_record_already_exists_text</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;Consolidated Renewal record Id was already set. Click&lt;/span&gt;&lt;strong style=&quot;color: rgb(255, 0, 0);&quot;&gt; &lt;/strong&gt;&lt;a href=&quot;{!OrgUrl}{!RevenueOpportunity.Consolidated_Renewal_Opportunity_Id__c}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;strong&gt;here&lt;/strong&gt;&lt;/a&gt;&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt; to be redirected to it.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;However, if you wish to update the Consolidated Renewal record link, click &quot;Next&quot;.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Consolidated_Renewal_Opportunity_Selection</name>
        <label>Consolidated Renewal Opportunity Selection</label>
        <locationX>710</locationX>
        <locationY>866</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Set_Related_Opportunity_Values</targetReference>
        </connector>
        <fields>
            <name>Associated_Revenue_Opportunity</name>
            <extensionName>flowruntime:lookup</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>Related_Opportunity__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Revenue Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fieldApiName</name>
                <value>
                    <stringValue>Revenue_Opportunity__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Screen</name>
        <label>Error Screen</label>
        <locationX>2514</locationX>
        <locationY>1622</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ErrorMessage</name>
            <fieldText>&lt;p&gt;{!$Flow.FaultMessage} &lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Setting_Consolidated_Renew_Id</name>
        <label>Error Setting Consolidated Renew Id</label>
        <locationX>710</locationX>
        <locationY>1406</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Failsafe_Rollback_1</targetReference>
        </connector>
        <fields>
            <name>SetIdError_Title</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px; color: rgb(255, 0, 0);&quot;&gt;Oops! We&apos;ve encountered an issue:&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>SetIdError_Message</name>
            <fieldText>&lt;p&gt;{!$Flow.FaultMessage}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>UpdateFault_1_Options</name>
            <choiceReferences>Retry_Update</choiceReferences>
            <choiceReferences>Exit_Update</choiceReferences>
            <dataType>String</dataType>
            <fieldText>How do you want to proceed?</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>FixedOpptySuccessscreen</name>
        <label>FixedOpptySuccessscreen</label>
        <locationX>3570</locationX>
        <locationY>566</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Successmessage</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;The opportunities has been linked successfully&lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);&quot;&gt;. To view the link, please click &lt;/span&gt;&lt;a href=&quot;{!OrgUrl}/lightning/r/Related_Opportunity__c/{!relatedOpportunityObjectRecId}/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 56, 255);&quot;&gt;here&lt;/a&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(0, 56, 255);&quot;&gt;.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Flow_Complete</name>
        <label>Flow Complete</label>
        <locationX>50</locationX>
        <locationY>674</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>OpportunityCreated</name>
            <fieldText>&lt;p&gt;&lt;b style=&quot;color: rgb(0, 0, 0);&quot;&gt;Opportunity has been successfully created!! To view the paid pilot record, find it &lt;/b&gt;&lt;a href=&quot;https://samsara--uat.my.salesforce.com/{!PaidPilotId}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;color: rgb(56, 28, 186);&quot;&gt;&lt;b&gt;here. &lt;/b&gt;&lt;/a&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Flow_Complete_2</name>
        <label>Flow Complete (2)</label>
        <locationX>710</locationX>
        <locationY>2030</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>AssociatedOpportunityCreatedText</name>
            <fieldText>&lt;p&gt;&lt;strong&gt;Consolidated Renewal Opportunity set!&lt;/strong&gt; Click &lt;a href=&quot;{!OrgUrl}{!Associated_Revenue_Opportunity.recordId}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt; to go to it.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Number_of_Opportnities</name>
        <label>Number of Opportnities</label>
        <locationX>2206</locationX>
        <locationY>458</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>NameIndx_Assignment</targetReference>
        </connector>
        <fields>
            <name>Number_of_Opps</name>
            <fieldText>&lt;p&gt;Insert the number of Opportunities to be created&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>Number_of_Opportunities_to_create</name>
            <dataType>Number</dataType>
            <defaultValue>
                <numberValue>1.0</numberValue>
            </defaultValue>
            <fieldText>Number of Opportunities to create</fieldText>
            <fieldType>InputField</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <scale>0</scale>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>Select the type of opportunity.</description>
        <name>Opportunity_Type</name>
        <label>Opportunity Type</label>
        <locationX>2074</locationX>
        <locationY>242</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Sub_Type_Decision_Node</targetReference>
        </connector>
        <fields>
            <name>Selected_Opportunity_Type</name>
            <choiceReferences>TypeOfRelatedOpportunities</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Select the type of opportunity</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>Revenue_Opportunityy</name>
            <extensionName>flowruntime:lookup</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>fieldApiName</name>
                <value>
                    <stringValue>Returning_Opportunity__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Select Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>objectApiName</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>newRevenueOpportunityId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>required</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>or</conditionLogic>
                <conditions>
                    <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Upgrade Opportunity</stringValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Fixed End Date</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Reason</name>
            <choiceReferences>FixedEndDateReasons</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Reason</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>false</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>Selected_Opportunity_Type</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Fixed End Date</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Other_Types</name>
        <label>Other Types</label>
        <locationX>4098</locationX>
        <locationY>458</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>DefaultMessage</name>
            <fieldText>&lt;p&gt;We don&apos;t handle other opportunity types yet in this flow. Please contact sales ops team for more details and click &lt;a href=&quot;https://samsara--uat.my.salesforce.com/{!RevenueOpportunity.Id}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;color: rgb(3, 57, 253);&quot;&gt;&lt;b&gt;here&lt;/b&gt;&lt;/a&gt; to return back to the revenue opportunity.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Related_Opportunity_Flow</name>
        <label>Related Opportunity Flow</label>
        <locationX>2250</locationX>
        <locationY>1514</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Sucessful_Creation</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;Opportunities has been successfully created!! To view the related records, find it &lt;/strong&gt;&lt;a href=&quot;https://samsara--uat.sandbox.lightning.force.com/lightning/r/Opportunity/{!OpportunityId}/related/Related_Opportunities__r/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;here. &lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>Success screen telling the user that the link between the return and new revenue opportunity has been successfully created.</description>
        <name>Success_Screen</name>
        <label>Success Screen</label>
        <locationX>3042</locationX>
        <locationY>782</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>Copy_1_of_Sucessful_Creation</name>
            <fieldText>&lt;p&gt;The opportunities has been linked successfully&lt;span style=&quot;color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;. To view the link, please click &lt;/span&gt;&lt;a href=&quot;{!OrgUrl}/lightning/r/Related_Opportunity__c/{!relatedOpportunityObjectRecId}/view&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;color: rgb(0, 56, 255); background-color: rgb(255, 255, 255);&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>1948</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Related_Revenue_Opportunity</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <description>Object that holds the data for the junction object i.e Related_Opportunity__c</description>
        <name>JunctionObjectInstance</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Related_Opportunity__c</objectType>
    </variables>
    <variables>
        <name>NameIndx</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>1.0</numberValue>
        </value>
    </variables>
    <variables>
        <description>This variable will store the id of the new revenue opportunity</description>
        <name>new_revenue_opp_id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>This variable holds the new revenue opportunity selected by the user.</description>
        <name>newRevenueOpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>NoOfOppsIndex</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>1.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>oppCustomName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>OppInLoop</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>OpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>PaidPilotId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Related_Opportunity_Record</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Related_Opportunity__c</objectType>
    </variables>
    <variables>
        <name>RelatedOpp_Record</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Related_Opportunity__c</objectType>
    </variables>
    <variables>
        <name>RelatedOppJunction</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Related_Opportunity__c</objectType>
    </variables>
    <variables>
        <description>This variable is used to store the id of the newly created junction object i.e Related_Opportunity__c</description>
        <name>relatedOpportunityObjectRecId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>RelatedOppsToInsert</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>RelRec</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Related_Opportunity__c</objectType>
    </variables>
    <variables>
        <name>ReturnRevenueIdSet</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>RevenueOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
</Flow>
