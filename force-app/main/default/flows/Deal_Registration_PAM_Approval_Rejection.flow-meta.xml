<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <description>GTMS-28072: Created as part of Partners H1 project hyper caree ticket</description>
        <name>Duplicate_Deal_Registration_Denial_Email_Alert</name>
        <label>Duplicate Deal Registration Denial Email Alert</label>
        <locationX>534</locationX>
        <locationY>3253</locationY>
        <actionName>Partner_Registration__c.Duplicate_Deal_Registration_Alert</actionName>
        <actionType>emailAlert</actionType>
        <connector>
            <targetReference>PAM_denied_message</targetReference>
        </connector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>SObjectRowId</name>
            <value>
                <elementReference>Partner_Registration_Record.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>Partner_Registration__c.Duplicate_Deal_Registration_Alert</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>GTMS-25777: Added this to updated account fields for RR after PAM approved the Deal Reg PR</description>
        <name>Update_Account_Fields_Data_for_RR</name>
        <label>Update Account Fields Data for RR</label>
        <locationX>1396</locationX>
        <locationY>3157</locationY>
        <actionName>CreateOpportunityEventHelper</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Get_Account_Record_For_New_Owner</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Screen_For_Account_Fields_Update_For_RR</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>accList</name>
            <value>
                <elementReference>Get_Account_Details</elementReference>
            </value>
        </inputParameters>
        <nameSegment>CreateOpportunityEventHelper</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <actionCalls>
        <description>GTMS-25777: Added this to updated account fields for RR after PAM approved the Deal Reg PR</description>
        <name>Validate_Assigned_Account_Owner</name>
        <label>Validate Assigned Account Owner</label>
        <locationX>1612</locationX>
        <locationY>3652</locationY>
        <actionName>NewDealRegLeadOwnerHandler</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Get_Account_Record_For_New_Owner</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Screen_For_Account_Owner_Validation</targetReference>
        </faultConnector>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>accountId</name>
            <value>
                <elementReference>Get_Account_Details.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>NewDealRegLeadOwnerHandler</nameSegment>
        <offset>0</offset>
    </actionCalls>
    <apiVersion>60.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <assignments>
        <description>GTMS-22784: Created as part of Partner Alignment project to add Open contracts as a linkt to  the text variable</description>
        <name>Add_Contracts</name>
        <label>Add Contracts</label>
        <locationX>864</locationX>
        <locationY>1490</locationY>
        <assignmentItems>
            <assignToReference>Open_Contracts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Contract_Link</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Open_Contracts_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>GTMS-22784: Created as part of Partner Alignment project to add Open PRs as links to the text variable</description>
        <name>Add_Open_PRs</name>
        <label>Add Open PRs</label>
        <locationX>864</locationX>
        <locationY>1898</locationY>
        <assignmentItems>
            <assignToReference>Open_PRs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Open_PR_Link</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Open_PR_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>GTMS-22748: Created as part of Partner Alignment project to add opportunities to a text template as links</description>
        <name>Add_Opportunities</name>
        <label>Add Opportunities</label>
        <locationX>864</locationX>
        <locationY>1082</locationY>
        <assignmentItems>
            <assignToReference>Opportunities</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Opportunity_Link</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Open_opportunity_loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Enrollment_Id</name>
        <label>Assign Enrollment Id</label>
        <locationX>1047</locationX>
        <locationY>359</locationY>
        <assignmentItems>
            <assignToReference>Program_Enrollment_Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_over_Filtered_Enrollment.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Sales_Program_Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Loop_over_Filtered_Enrollment.Partner_Program__r.SalesProgramType__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_over_Filtered_Enrollment</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>GTMS-20571: Created as part of Partner Team Alignment project</description>
        <name>Assign_PR_Values</name>
        <label>Assign PR Values</label>
        <locationX>792</locationX>
        <locationY>2611</locationY>
        <assignmentItems>
            <assignToReference>Partner_Registration_Record.Partner_Team_Alignment__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Partner_Registration_Record.Partner_Account__r.Partner_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Partner_Registration_Record.Sales_Program_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Sales_Program_Type</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>PAM_Review_Notes_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>GTMS-25777: Added this to updated account fields for RR after PAM approved the Deal Reg PR</description>
        <name>Map_Account_RR_To_True</name>
        <label>Map Account RR To True</label>
        <locationX>1391</locationX>
        <locationY>3279</locationY>
        <assignmentItems>
            <assignToReference>Account_To_Update.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Account_Details.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Account_To_Update.Initiate_Round_Robin__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Account_RR_field_value</targetReference>
        </connector>
    </assignments>
    <choices>
        <description>GTMS-20569: created as part of partners System alignment project to get final approval</description>
        <name>Approve_Deal</name>
        <choiceText>Yes</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </choices>
    <choices>
        <description>GTMS-20569: Created as part of Partner Systems Alignment project to create a choice for new opportunity createion.</description>
        <name>Create_New_Opportunity</name>
        <choiceText>&lt;strong&gt;Create a New Opportunity&lt;/strong&gt;</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>New_Opportunity</stringValue>
        </value>
    </choices>
    <choices>
        <description>GTMS-20569: created as part of Partner Systems Alignment to get final decision</description>
        <name>Deny_Deal</name>
        <choiceText>No</choiceText>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </choices>
    <choices>
        <description>GTMS-20569: Created as part of Partner System-Alignment project</description>
        <name>PAM_Approved</name>
        <choiceText>Approve</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Approved</stringValue>
        </value>
    </choices>
    <choices>
        <description>GTMS-20569: Created as part of Partner Systems-Alignment project</description>
        <name>PAM_Denied</name>
        <choiceText>Deny</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Denied</stringValue>
        </value>
    </choices>
    <collectionProcessors>
        <description>GTMS-26124 &amp; GTMS-26107: Created as part of Partners H1 Project to filter enrollment records based on selected program</description>
        <name>Filter_Enrollment_Records</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Enrollment Records</label>
        <locationX>835</locationX>
        <locationY>178</locationY>
        <assignNextValueToReference>currentItem_Filter_Enrollment_Records</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Active_Pilot_Program_Enrollment_Records_For_Partners</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Enrollment_Records.Partner_Account__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>Partner_Registration_Record.Partner_Account__c</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Enrollment_Records.Partner_Program__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>Partner_Programs</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Loop_over_Filtered_Enrollment</targetReference>
        </connector>
    </collectionProcessors>
    <decisions>
        <description>GTMS-20569: created as part of Partner Systems Alignment Project to check if the account has latest active contract.
Added Contact End date to the Active Contract check on 12/26/24</description>
        <name>Active_Contract_Check</name>
        <label>Active Contract Check</label>
        <locationX>490</locationX>
        <locationY>2522</locationY>
        <defaultConnector>
            <targetReference>Select_Open_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Has_Latest_Active_Contract</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account_Details.Latest_Active_Contract__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Details.Latest_Active_Contract__r.EndDate</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Active_Contract_Selection</targetReference>
            </connector>
            <label>Has Latest Active Contract</label>
        </rules>
    </decisions>
    <decisions>
        <description>GTMS-25570: Created to check the Round Robin and Owner field of the account to initiate RR logic to map account owner</description>
        <name>Check_Account_RR_Field_value</name>
        <label>Check Account RR Field value</label>
        <locationX>960</locationX>
        <locationY>3327</locationY>
        <defaultConnector>
            <targetReference>Update_Partner_Registration_Record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Does_Owner_Role_Not_Contain_AE1_AE2_AE3</name>
            <conditionLogic>NOT(1) AND NOT(2) AND NOT(3) AND NOT(5) AND 4</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account_Details.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>AE1</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Details.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>AE2</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Details.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>AE3</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Details.Initiate_Round_Robin__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Details.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue> ENT </stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Is_Account_Owner_Is_ADR_Role_User</targetReference>
            </connector>
            <label>Does Owner Role Not Contain AE1/AE2/AE3</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_AccountBook</name>
        <label>Check AccountBook</label>
        <locationX>1159</locationX>
        <locationY>3208</locationY>
        <defaultConnector>
            <targetReference>Map_Account_RR_To_True</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>AE Not Available</defaultConnectorLabel>
        <rules>
            <name>AE_Available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account_Details.Books_Of_Business__r.AE__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Account_Owner_with_Account_Book_AE</targetReference>
            </connector>
            <label>AE Available</label>
        </rules>
    </decisions>
    <decisions>
        <name>check_partner_influence_selected</name>
        <label>check partner influence selected</label>
        <locationX>959</locationX>
        <locationY>2267</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>has_less_than_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PAM_Review_Decision</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>PAM_Denied</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>criteria_screen</targetReference>
            </connector>
            <label>has less than  2</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Sales_Program_Type_Value</name>
        <label>Check Sales Program Type Value</label>
        <locationX>350</locationX>
        <locationY>650</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Sales_Program_Type_Is_Not_Valid</name>
            <conditionLogic>NOT(1)</conditionLogic>
            <conditions>
                <leftValueReference>Get_Partner_Account_Info.Program_Type__c</leftValueReference>
                <operator>Contains</operator>
            </conditions>
            <connector>
                <targetReference>Sales_Program_Type_Screen</targetReference>
            </connector>
            <label>Sales Program Type Is Not Valid</label>
        </rules>
    </decisions>
    <decisions>
        <name>Email_Recepients_Check</name>
        <label>Email Recepients Check</label>
        <locationX>284</locationX>
        <locationY>3262</locationY>
        <defaultConnector>
            <targetReference>PAM_denied_message</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yas_Has_recepients</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Partner_Registration_Record.Partner_Contact__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Partner_Registration_Record.PAM__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Duplicate_Deal_Registration_Denial_Email_Alert</targetReference>
            </connector>
            <label>Yas, Has recepients</label>
        </rules>
    </decisions>
    <decisions>
        <description>GTMS-25777: Added this to updated account fields for RR after PAM approved the Deal Reg PR</description>
        <name>Is_Account_Owner_Is_ADR_Role_User</name>
        <label>Is Account Owner Is ADR Role User</label>
        <locationX>1159</locationX>
        <locationY>3458</locationY>
        <defaultConnector>
            <targetReference>Check_AccountBook</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Yes_Account_Owner_Is_ADR_user</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account_Details.Owner.UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>ADR</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Validate_Assigned_Account_Owner</targetReference>
            </connector>
            <label>Yes, Account Owner Is ADR user</label>
        </rules>
    </decisions>
    <decisions>
        <description>GTMS-25777: Created to check if Account Owner is changed to AE after executing Round robin logic</description>
        <name>Is_Account_Owner_is_AE</name>
        <label>Is Account Owner is AE ?</label>
        <locationX>1762</locationX>
        <locationY>3295</locationY>
        <defaultConnector>
            <targetReference>Account_Owner_Mapping_Error</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Account Owner Is Not AE</defaultConnectorLabel>
        <rules>
            <name>Yes_Account_Owner_Is_AE</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Account_Record_For_New_Owner.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>AE1</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Record_For_New_Owner.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>AE2</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Record_For_New_Owner.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>AE3</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Record_For_New_Owner.Owner_Role__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue> ENT </stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Partner_Registration_Record_After_Executing_RR_Logic</targetReference>
            </connector>
            <label>Yes, Account Owner Is AE</label>
        </rules>
    </decisions>
    <decisions>
        <description>GTMS-28072: Created as part of Partners H1 project Hypercare ticket to check if CR already exists with Same Partner and Program</description>
        <name>Is_CR_Already_Exists</name>
        <label>Is CR Already Exists ?</label>
        <locationX>504</locationX>
        <locationY>2966</locationY>
        <defaultConnector>
            <targetReference>PAM_Review_Notes_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No CR Does Not Exists</defaultConnectorLabel>
        <rules>
            <name>Yes_CR_already_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Value_For_CR_Field</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Match to Existing Opportunity</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_CR_Record_with_Same_Partner_and_Program</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_Update_Partner_Registration_Record</targetReference>
            </connector>
            <label>Yes, CR already Exists</label>
        </rules>
    </decisions>
    <decisions>
        <description>GTMS-28072: Created as part of Partners H1 project Hypercare to check if PAM selected existing open opportunity</description>
        <name>Is_Existing_Open_Oppty_Selected</name>
        <label>Is Existing Open Oppty Selected ?</label>
        <locationX>429</locationX>
        <locationY>2737</locationY>
        <defaultConnectorLabel>No, new Oppty selected</defaultConnectorLabel>
        <rules>
            <name>Yes_Existing_Open_Oppty_selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Existing_Open_Opportunity</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Create_New_Opportunity</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_CR_Record_with_Same_Partner_and_Program</targetReference>
            </connector>
            <label>Yes, Existing Open Oppty selected</label>
        </rules>
    </decisions>
    <decisions>
        <description>GTMS-20569: created as part of Partners Systems Alignment project to check if PAM approved or denied</description>
        <name>PAM_Approval_Check</name>
        <label>PAM Approval Check</label>
        <locationX>782</locationX>
        <locationY>2384</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Approved</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PAM_Review_Decision</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>PAM_Approved</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Account_Details</targetReference>
            </connector>
            <label>Approved</label>
        </rules>
        <rules>
            <name>Denied</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PAM_Review_Decision</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>PAM_Denied</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_PR_Values</targetReference>
            </connector>
            <label>Denied</label>
        </rules>
    </decisions>
    <decisions>
        <description>GTMS-25777: Add this check to initiate round robin logic</description>
        <name>PAM_Approval_Check_0</name>
        <label>PAM Approval Check</label>
        <locationX>709</locationX>
        <locationY>3327</locationY>
        <defaultConnector>
            <targetReference>Update_Partner_Registration_Record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Approved_And_SFDC_Pool_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PAM_Review_Decision</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>PAM_Approved</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Details.OwnerId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>$Label.SFDC_Pool_User_ID</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Account_RR_Field_value</targetReference>
            </connector>
            <label>Approved And SFDC Pool User</label>
        </rules>
        <rules>
            <name>Approved_And_Not_An_SFDC_Pool_User</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PAM_Review_Decision</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>PAM_Approved</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Account_Details.OwnerId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>$Label.SFDC_Pool_User_ID</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Account_RR_Field_value</targetReference>
            </connector>
            <label>Approved Not An SFDC Pool User</label>
        </rules>
        <rules>
            <name>PAMDenied</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>PAM_Review_Decision</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>PAM_Denied</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Partner_Registration_Record</targetReference>
            </connector>
            <label>Denied</label>
        </rules>
    </decisions>
    <decisions>
        <name>Sales_Program_Type_Resale</name>
        <label>Sales Program Type Resale</label>
        <locationX>575</locationX>
        <locationY>443</locationY>
        <defaultConnector>
            <targetReference>Get_Open_Opprotunities</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Owner_Role_Contains_AE1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Partner_Registration_Record.Account__r.Owner.UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>AE1</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Sales_Program_Type</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Resale</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Resale_In_AE1_Segment</targetReference>
            </connector>
            <label>Owner Role Contains AE1</label>
        </rules>
    </decisions>
    <description>GTMS-20571: Created as part of Partner Alignment project tot use as Subflow in Deal Registration Review flow
07/18/24: Added 3 get elements and updated the screen component to show the opportunity, contract and PR details - GTMS-22784
GTMS-25492: removed ownerId mapping for PR auto denial
GTMS-25777: Added logic to execute Account RR logic after PAM approved the PR record and Added Contact End date to the Active Contract check.
GTMS-25777: Added Account Owner check and Error screen after RR logic as per the comments on ticket
GTMS-26124 &amp; GTMS-26107: Updated as part of Partners H1 project to Update Partner Program selection and Validation check logic
GTMS-26936: Updated Sales Program Type value from Partner Program
GTMS-28695: Deal Reg Error
Removed Partner Team Alignment from the required field selection screen and map Partner Account&apos; s partner team aslignment to the PR Partner Team Alignment. - 04/30/2025(based on aaron comments)
GTMS-28072: Added logic to auto Deny PR if CR already exists with Same Partner and Program
GTMS-28127: Removed Partner Influenced Details section and auto denial functionality
GTMS-28330: PAM approved accounts move to AEs</description>
    <dynamicChoiceSets>
        <name>ActiveContractChoice_Set</name>
        <dataType>String</dataType>
        <displayField>ContractNumber</displayField>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Account_Details.Latest_Active_Contract__c</elementReference>
            </value>
        </filters>
        <object>Contract</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>GTMS-22180: Created as part of Partner Alignment project. This variable stores the Pickslist values for Denial Reason field</description>
        <name>Denail_Reason_Choice_Set</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>DenialReason__c</picklistField>
        <picklistObject>Partner_Registration__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>Open_Opportunity_Choice_Set</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Revenue Opportunity</stringValue>
            </value>
        </filters>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Account__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputAssignments>
            <assignToReference>Selected_Open_Opportunity</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>GTMS-26124 &amp; GTMS-26107: Created as part of Partners H1 project to show Partner Programs as collection</description>
        <name>Partner_Program_Collection_Choice_Set</name>
        <collectionReference>Get_Active_Pilot_Program_For_Partners</collectionReference>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <object>Partner_Program__c</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>GTMS-20571 &amp; 20575: Created as part of Partner Team Alignment project.</description>
        <name>Partner_Team_Alignment_Choice</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Partner_Team_Alignment__c</picklistField>
        <picklistObject>Partner_Registration__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>GTMS-20571 &amp; GTMS-20575: Created as part of Partner Alignment project.</description>
        <name>Sales_Program_Type_Choice</name>
        <dataType>Multipicklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Sales_Program_Type__c</picklistField>
        <picklistObject>Partner_Registration__c</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <description>GTMS-20569: created as part of Partner System Alignment project to map the Opportunity Id based on the previous screens</description>
        <name>OpportunityId</name>
        <dataType>String</dataType>
        <expression>IF(
	{!PAM_Review_Decision} == {!PAM_Approved},
	IF(
		OR(
			AND(
				NOT(ISBLANK({!Please_select_the_existing_contract_to_Amend})),
				NOT(ISNULL({!Please_select_the_existing_contract_to_Amend}))
				),
			{!Existing_Open_Opportunity} == {!Create_New_Opportunity}
		),
		null,
		{!Selected_Open_Opportunity}
	),
	null
)</expression>
    </formulas>
    <formulas>
        <description>GTMS-20570 and GTMS-20571: created as part of Partners System Alignment project to map owner</description>
        <name>OwnerId_Value</name>
        <dataType>String</dataType>
        <expression>IF(
	{!PAM_Review_Decision} == {!PAM_Approved},
	{!Get_Account_Details.OwnerId},
	{!Partner_Registration_Record.OwnerId}
	)</expression>
    </formulas>
    <formulas>
        <description>GTMS-20569: Created as part of partner systems alignment project to set status values based PAM decision</description>
        <name>PR_Status</name>
        <dataType>String</dataType>
        <expression>IF(
	{!PAM_Review_Decision} == {!PAM_Approved},
	&apos;PAM Reviewed&apos;,
	&apos;PAM Denied&apos;
	)</expression>
    </formulas>
    <formulas>
        <description>created to generate URL</description>
        <name>sandboxUrl</name>
        <dataType>String</dataType>
        <expression>LEFT({!$Api.Partner_Server_URL_250},FIND(&apos;.com&apos;,{!$Api.Partner_Server_URL_250})+4)</expression>
    </formulas>
    <formulas>
        <description>GTMS-20569: created as part of Partner System Alignment project to set CR field value based on the previous flow elements</description>
        <name>Value_For_CR_Field</name>
        <dataType>String</dataType>
        <expression>IF(
	{!PAM_Review_Decision} == {!PAM_Approved},
	IF(
		AND(
			NOT(ISBLANK({!Please_select_the_existing_contract_to_Amend})),
			NOT(ISNULL({!Please_select_the_existing_contract_to_Amend}))
			),
		&apos;Create Amendment Opportunity&apos;,
		IF(
			{!Existing_Open_Opportunity} == {!Create_New_Opportunity},
			&apos;Create New Opportunity&apos;,
			IF(
				AND(
					NOT(ISBLANK({!Existing_Open_Opportunity})),
					NOT(ISNULL({!Existing_Open_Opportunity}))
				),
				&apos;Match to Existing Opportunity&apos;,
				null
				)
		)
	),
	null
)</expression>
    </formulas>
    <interviewLabel>Deal Registration PAM Approval/Rejection {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Deal Registration PAM Approval/Rejection</label>
    <loops>
        <name>Loop_over_Filtered_Enrollment</name>
        <label>Loop over Filtered Enrollment</label>
        <locationX>829</locationX>
        <locationY>354</locationY>
        <collectionReference>Filter_Enrollment_Records</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Enrollment_Id</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Sales_Program_Type_Resale</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>GTMS-22748: Created as part of partner Alignment project to loop over open contracts</description>
        <name>Open_Contracts_Loop</name>
        <label>Open Contracts Loop</label>
        <locationX>776</locationX>
        <locationY>1382</locationY>
        <collectionReference>Get_Open_Contracts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Contracts</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Open_PR_Records</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>GTMS-22748: Created as part of Partner Alignment project to loop over open opprotunities</description>
        <name>Open_opportunity_loop</name>
        <label>Open opportunity loop</label>
        <locationX>776</locationX>
        <locationY>974</locationY>
        <collectionReference>Get_Open_Opprotunities</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Opportunities</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Open_Contracts</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <description>GTMS-22784: Created as part of Partner Alignment project to loop over open partner Registrations</description>
        <name>Open_PR_Loop</name>
        <label>Open PR Loop</label>
        <locationX>776</locationX>
        <locationY>1790</locationY>
        <collectionReference>Get_Open_PR_Records</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Open_PRs</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>PAM_Approval_Screen</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <description>GTMS-20569: created as part of Partner Systems Alignment project to get the Account details and recent Active contract</description>
        <name>Get_Account_Details</name>
        <label>Get Account Details</label>
        <locationX>941</locationX>
        <locationY>2519</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_PR_Values</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Account__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>GTMS-25777: Added this to fetch the Account Owner after initiating RR logic</description>
        <name>Get_Account_Record_For_New_Owner</name>
        <label>Get Account Record For New Owner</label>
        <locationX>1610</locationX>
        <locationY>3293</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Account_Owner_is_AE</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Account__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>OwnerId</queriedFields>
        <queriedFields>Owner_Role__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>GTMS-26124 &amp; GTMS-26107: created as part of Partners H1 project to fetch the Active/Pilot Partner Programs Enrollment records</description>
        <name>Get_Active_Pilot_Program_Enrollment_Records_For_Partners</name>
        <label>Get Active/Pilot Program Enrollment Records For Partners</label>
        <locationX>461</locationX>
        <locationY>69</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Fetch_Partner_Program_Id_List</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3)</filterLogic>
        <filters>
            <field>Partner_Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Partner_Account__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Member_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </filters>
        <filters>
            <field>Member_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pilot</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Partner_Program_Enrollment__c</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Partner_Program__c</queriedFields>
        <queriedFields>Partner_Account__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>GTMS-26124 &amp; GTMS-26107: created as part of Partners H1 project to fetch the Active/Pilot Partner Programs records that partner is enrolled for</description>
        <name>Get_Active_Pilot_Program_For_Partners</name>
        <label>Get Active/Pilot Program For Partners</label>
        <locationX>223</locationX>
        <locationY>205</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>PR_Required_Fields_Screen</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3)</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>Fetch_Partner_Program_Id_List</elementReference>
            </value>
        </filters>
        <filters>
            <field>Program_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </filters>
        <filters>
            <field>Program_Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Pilot</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Partner_Program__c</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>SalesProgramType__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>GTMS-28072: Created as part of Partners H1 project hypercare to get CR records with Same Partner and Program type</description>
        <name>Get_CR_Record_with_Same_Partner_and_Program</name>
        <label>Get CR Record with Same Partner and Program</label>
        <locationX>505</locationX>
        <locationY>2837</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_CR_Already_Exists</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Selected_Open_Opportunity</elementReference>
            </value>
        </filters>
        <filters>
            <field>Channel_Partner__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Partner_Account__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Partner_Program__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Programs</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Channel_Relationship__c</object>
        <queriedFields>Id</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>GTMS-22784: Created as part of Partner Alignment project to get the open contracts for the account</description>
        <name>Get_Open_Contracts</name>
        <label>Get Open Contracts</label>
        <locationX>776</locationX>
        <locationY>1274</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Open_Contracts_Loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Account__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>EndDate</field>
            <operator>GreaterThan</operator>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contract</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>ContractNumber</queriedFields>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>GTMS-22784: Created as part of Partner Alignment project to fetch the open opportunities related to Account</description>
        <name>Get_Open_Opprotunities</name>
        <label>Get Open Opprotunities</label>
        <locationX>753</locationX>
        <locationY>571</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Open_opportunity_loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Account__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Revenue Opportunity</stringValue>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>GTMS-22784: Created as part of partner alignment project to get the existing open PRs with the same account</description>
        <name>Get_Open_PR_Records</name>
        <label>Get Open PR Records</label>
        <locationX>776</locationX>
        <locationY>1682</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Open_PR_Loop</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND (3 OR 4)</filterLogic>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Account__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>New</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>PAM Reviewed</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Partner_Registration__c</object>
        <sortField>CreatedDate</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Partner_Account_Info</name>
        <label>Get Partner Account Info</label>
        <locationX>356</locationX>
        <locationY>505</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_Sales_Program_Type_Value</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Partner_Registration_Record.Partner_Account__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Program_Type__c</queriedFields>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>GTMS-20569: Created as part of Partner System Alignment project to update the Partner Registration object.</description>
        <name>Copy_1_of_Update_Partner_Registration_Record</name>
        <label>Copy 1 of Update Partner Registration Record</label>
        <locationX>385</locationX>
        <locationY>3092</locationY>
        <connector>
            <targetReference>Email_Recepients_Check</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>PR_RecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CR__c</field>
            <value>
                <elementReference>Value_For_CR_Field</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>DenialReason__c</field>
            <value>
                <stringValue>Already Present on Opportunity</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM_Notes__c</field>
            <value>
                <elementReference>PAM_Review_Notes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM_Review_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM__c</field>
            <value>
                <elementReference>Partner_Registration_Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Program_Enrollment__c</field>
            <value>
                <elementReference>Program_Enrollment_Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Program__c</field>
            <value>
                <elementReference>Partner_Programs</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Team_Alignment__c</field>
            <value>
                <elementReference>Partner_Registration_Record.Partner_Team_Alignment__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sales_Program_Type__c</field>
            <value>
                <elementReference>Sales_Program_Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <stringValue>Denied</stringValue>
            </value>
        </inputAssignments>
        <object>Partner_Registration__c</object>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Account_Owner_with_Account_Book_AE</name>
        <label>Update Account Owner with Account Book AE</label>
        <locationX>1243</locationX>
        <locationY>3342</locationY>
        <connector>
            <targetReference>Get_Account_Record_For_New_Owner</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Account_Details.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_Account_Details.Books_Of_Business__r.AE__c</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <description>GTMS-25777: Added this to updated account fields for RR after PAM approved the Deal Reg PR</description>
        <name>Update_Account_RR_field_value</name>
        <label>Update Account RR field value</label>
        <locationX>1478</locationX>
        <locationY>3375</locationY>
        <connector>
            <targetReference>Get_Account_Record_For_New_Owner</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Error_Screen_For_Account_RR_Field_Update</targetReference>
        </faultConnector>
        <inputReference>Account_To_Update</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>GTMS-20569: Created as part of Partner System Alignment project to update the Partner Registration object.</description>
        <name>Update_Partner_Registration_Record</name>
        <label>Update Partner Registration Record</label>
        <locationX>834</locationX>
        <locationY>3609</locationY>
        <faultConnector>
            <targetReference>PR_Update_Error_Screen</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>PR_RecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>DenialReason__c</field>
            <value>
                <elementReference>Denial_Reason_Choice</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>OwnerId_Value</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM_Notes__c</field>
            <value>
                <elementReference>PAM_Review_Notes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM_Review_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM__c</field>
            <value>
                <elementReference>Partner_Registration_Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Program_Enrollment__c</field>
            <value>
                <elementReference>Program_Enrollment_Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Program__c</field>
            <value>
                <elementReference>Partner_Programs</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Team_Alignment__c</field>
            <value>
                <elementReference>Partner_Registration_Record.Partner_Account__r.Partner_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SLA_Business_Days__c</field>
            <value>
                <stringValue>1</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sales_Program_Type__c</field>
            <value>
                <elementReference>Sales_Program_Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <elementReference>PR_Status</elementReference>
            </value>
        </inputAssignments>
        <object>Partner_Registration__c</object>
    </recordUpdates>
    <recordUpdates>
        <description>GTMS-25777: Updating PR Record after PAM Approval and Executing RR Logic to map Account Owner</description>
        <name>Update_Partner_Registration_Record_After_Executing_RR_Logic</name>
        <label>Update Partner Registration Record After Executing RR Logic</label>
        <locationX>2005</locationX>
        <locationY>3287</locationY>
        <faultConnector>
            <targetReference>PR_Update_Error_Screen_0</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>PR_RecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>DenialReason__c</field>
            <value>
                <elementReference>Denial_Reason_Choice</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Opportunity__c</field>
            <value>
                <elementReference>OpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_Account_Record_For_New_Owner.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM_Notes__c</field>
            <value>
                <elementReference>PAM_Review_Notes</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM_Review_Date__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>PAM__c</field>
            <value>
                <elementReference>Partner_Registration_Record.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Program_Enrollment__c</field>
            <value>
                <elementReference>Program_Enrollment_Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Program__c</field>
            <value>
                <elementReference>Partner_Programs</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Partner_Team_Alignment__c</field>
            <value>
                <elementReference>Partner_Registration_Record.Partner_Account__r.Partner_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>SLA_Business_Days__c</field>
            <value>
                <stringValue>1</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sales_Program_Type__c</field>
            <value>
                <elementReference>Sales_Program_Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status__c</field>
            <value>
                <elementReference>PR_Status</elementReference>
            </value>
        </inputAssignments>
        <object>Partner_Registration__c</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <description>GTMS-25777: Created to show the error if the Account owner is not an AE after RR execution</description>
        <name>Account_Owner_Mapping_Error</name>
        <label>Account Owner Mapping Error</label>
        <locationX>1810</locationX>
        <locationY>3130</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Account_Owner_Map_Error</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; color: rgb(224, 54, 28);&quot;&gt;AE assignment unsuccessful, please create a &lt;/span&gt;&lt;a href=&quot;https://samsara-net.slack.com/archives/C02BNKRE6R1&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif;&quot;&gt;#help-sales&lt;/a&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; color: rgb(23, 43, 77);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; color: rgb(224, 54, 28);&quot;&gt;ticket to have this account and Partner Registration routed for approval&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>GTMS-20569: created as part of Partners Systems Alignment project to show the active contract</description>
        <name>Active_Contract_Selection</name>
        <label>Active Contract Selection</label>
        <locationX>49</locationX>
        <locationY>2617</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Please_select_the_existing_contract_to_Amend</name>
            <choiceReferences>ActiveContractChoice_Set</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please select the existing contract to Amend</fieldText>
            <fieldType>RadioButtons</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>criteria_screen</name>
        <label>criteria screen</label>
        <locationX>1135</locationX>
        <locationY>2421</locationY>
        <allowBack>true</allowBack>
        <allowFinish>false</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>criteriamessage</name>
            <fieldText>&lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;background-color: rgb(255, 255, 255); color: rgb(41, 38, 38);&quot;&gt;Minimum 2 criteria must be selected for approval for payout&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Error_Screen_For_Account_Fields_Update_For_RR</name>
        <label>Error Screen For Account Fields Update For RR</label>
        <locationX>1594</locationX>
        <locationY>3066</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Acc_Fields_Update_Error_Msg</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(215, 40, 40);&quot;&gt;Account Owner mapping through RR got failed due to below reason&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(215, 40, 40);&quot;&gt;{!$Flow.FaultMessage}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Error_Screen_For_Account_Owner_Validation</name>
        <label>Error Screen For Account Owner Validation</label>
        <locationX>1806</locationX>
        <locationY>3634</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Acc_Owner_Validation_Error_Msg</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(215, 40, 40);&quot;&gt;Account Owner Validating got failed due to below reason&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(215, 40, 40);&quot;&gt;{!$Flow.FaultMessage}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Error_Screen_For_Account_RR_Field_Update</name>
        <label>Error Screen For Account RR Field Update</label>
        <locationX>1531</locationX>
        <locationY>3576</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>Acc_RR_Field_Update_Error_Message</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(215, 40, 40);&quot;&gt;Round Robin for Owner Mapping got Failed due to below reason&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(215, 40, 40);&quot;&gt;{!$Flow.FaultMessage}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>GTMS-20569: created as part of Partners Systems-Alignment project. To provide approve or Deny options to CAM user</description>
        <name>PAM_Approval_Screen</name>
        <label>PAM Approval Screen</label>
        <locationX>775</locationX>
        <locationY>2091</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>PAM_Approval_Check</targetReference>
        </connector>
        <fields>
            <name>PAM_Approval_Screen_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>PAM_Approval_Screen_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>PartnerRegistrationCustomerInfo</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;u&gt;Channel Partner Details&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;Partner Name:&lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt; {!Partner_Registration_Record.Partner_Account__r.Name}&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;Sales Program Type: &lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!Partner_Registration_Record.Partner_Program_Tier__c}&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;Partner Account Status: &lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!Partner_Registration_Record.Partner_Account_Status__c}&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;u&gt;End Customer Details&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;End Customer Name:&lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt; {!Partner_Registration_Record.Account__r.Name}&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;Business Unit:&lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt; {!Partner_Registration_Record.Business_Unit__c}&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;Segment: &lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt; {!Partner_Registration_Record.Fleet_Segment__c}&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;Geography:&lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt; {!Partner_Registration_Record.Geography__c}&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;Contact: &lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;{!Partner_Registration_Record.Contact__r.FirstName}   &lt;/span&gt;&lt;span style=&quot;color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;{!Partner_Registration_Record.Contact__r.LastName}&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(68, 68, 68);&quot;&gt;More About Opportunity&lt;/strong&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 12px; color: rgb(68, 68, 68);&quot;&gt;{!Partner_Registration_Record.More_About_Opportunity__c}&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>PAM_Approval_Screen_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>opportunityList</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Open Opportunities&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;{!Opportunities}&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Opportunities</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>No_Open_Opportunites</name>
                    <fieldText>&lt;p&gt;&lt;strong&gt;No Open Opportunity Found.&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Opportunities</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>ContractList</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Open Contracts&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{!Open_Contracts}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Open_Contracts</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>No_Active_Contracts</name>
                    <fieldText>&lt;p&gt;&lt;strong&gt;No Active Contract Found.&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Open_Contracts</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>OpenPRs</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Open Partner Registrations&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;{!Open_PRs}&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Open_PRs</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>false</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>No_Open_PR</name>
                    <fieldText>&lt;p&gt;&lt;strong&gt;No Open Partner Registration Found.&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <styleProperties>
                        <verticalAlignment>
                            <stringValue>top</stringValue>
                        </verticalAlignment>
                        <width>
                            <stringValue>12</stringValue>
                        </width>
                    </styleProperties>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>Open_PRs</leftValueReference>
                            <operator>IsNull</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>PAM_Review_Decision</name>
            <choiceReferences>PAM_Approved</choiceReferences>
            <choiceReferences>PAM_Denied</choiceReferences>
            <dataType>String</dataType>
            <fieldText>PAM Recommendation</fieldText>
            <fieldType>RadioButtons</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>PAM_denied_message</name>
        <label>PAM denied message</label>
        <locationX>397</locationX>
        <locationY>3480</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>deniedmesage</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Channel Relationship is already exits on opportunity with same Partner and Program. As such, this Deal Reg has been denied.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>GTMS-20569: created as part of Partner Systems Alignment project to allow PAM to enter preview notes</description>
        <name>PAM_Review_Notes_Screen</name>
        <label>PAM Review Notes Screen</label>
        <locationX>763</locationX>
        <locationY>2897</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>PAM_Approval_Check_0</targetReference>
        </connector>
        <fields>
            <name>Denial_Reason_Choice</name>
            <choiceReferences>Denail_Reason_Choice_Set</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Denial Reason</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>PAM_Review_Decision</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>PAM_Denied</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>PAM_Review_Notes</name>
            <fieldText>PAM Review Notes</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>false</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>GTMS-20571 and 20575: Created as part of Partner Alignment project.</description>
        <name>PR_Required_Fields_Screen</name>
        <label>PR Required Fields Screen</label>
        <locationX>495</locationX>
        <locationY>206</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Filter_Enrollment_Records</targetReference>
        </connector>
        <fields>
            <name>Partner_Programs</name>
            <choiceReferences>Partner_Program_Collection_Choice_Set</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Partner Programs</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>PR_Update_Error_Screen</name>
        <label>PR Update Error Screen</label>
        <locationX>996</locationX>
        <locationY>3620</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>PR_Update_Error_Message</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(215, 45, 45);&quot;&gt;PAM Review process was not completed due to below error&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(215, 45, 45);&quot;&gt;{!$Flow.FaultMessage}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>PR_Update_Error_Screen_0</name>
        <label>PR Update Error Screen</label>
        <locationX>2158</locationX>
        <locationY>3296</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>PR_Update_Error_Message_0</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;color: rgb(215, 45, 45);&quot;&gt;PAM Review process was not completed due to below error&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(215, 45, 45);&quot;&gt;{!$Flow.FaultMessage}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Resale_In_AE1_Segment</name>
        <label>Resale In AE1 Segment</label>
        <locationX>387</locationX>
        <locationY>365</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ResaleInAE1SegmentMessage</name>
            <fieldText>&lt;p&gt;You cannot use Resellers in the AE1 segment.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Sales_Program_Type_Screen</name>
        <label>Sales Program Type Screen</label>
        <locationX>140</locationX>
        <locationY>644</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ShowSalesProgramTypeMessage</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; font-family: -apple-system, &amp;quot;system-ui&amp;quot;, &amp;quot;Segoe UI&amp;quot;, Roboto, Oxygen, Ubuntu, &amp;quot;Fira Sans&amp;quot;, &amp;quot;Droid Sans&amp;quot;, &amp;quot;Helvetica Neue&amp;quot;, sans-serif; color: rgb(23, 43, 77);&quot;&gt;You have selected a program type that is not supported by the partner. Please go back and update. Thanks!&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <description>GTMS-20569: Created as part of Partner Systems Alignment project to show all the open opportunites related to account as radio buttons</description>
        <name>Select_Open_Opportunity</name>
        <label>Select Open Opportunity</label>
        <locationX>622</locationX>
        <locationY>2630</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Is_Existing_Open_Oppty_Selected</targetReference>
        </connector>
        <fields>
            <name>Existing_Open_Opportunity</name>
            <choiceReferences>Open_Opportunity_Choice_Set</choiceReferences>
            <choiceReferences>Create_New_Opportunity</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Please select a recommendation from the following available actions.</fieldText>
            <fieldType>RadioButtons</fieldType>
            <helpText>&lt;p&gt;PAM recommendations are shared with the AE and available options are determined from search results. AE selection determines final action for alignment.&lt;/p&gt;</helpText>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>642</locationX>
        <locationY>50</locationY>
        <connector>
            <targetReference>Get_Active_Pilot_Program_Enrollment_Records_For_Partners</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <textTemplates>
        <description>GTMS-22784: Created as part of Partner Alignment project to create hyperlink for each contract</description>
        <name>Contract_Link</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;&lt;a href=&quot;{!sandboxUrl}{!Open_Contracts_Loop.Id}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;{!Open_Contracts_Loop.ContractNumber} - {!Open_Contracts_Loop.Name}&lt;/a&gt;&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <description>GTMS-22784: Created as part of Partner Alignment project to create hyper link for each Open PR</description>
        <name>Open_PR_Link</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;&lt;a href=&quot;{!sandboxUrl}{!Open_PR_Loop.Id}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;{!Open_PR_Loop.Name}  -  ({!Open_PR_Loop.Partner_Account__r.Name})&lt;/a&gt;&lt;/p&gt;</text>
    </textTemplates>
    <textTemplates>
        <name>Opportunity_Link</name>
        <isViewedAsPlainText>false</isViewedAsPlainText>
        <text>&lt;p&gt;&lt;a href=&quot;{!sandboxUrl}{!Open_opportunity_loop.Id}&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot;&gt;{!Open_opportunity_loop.Name}&lt;/a&gt;&lt;/p&gt;</text>
    </textTemplates>
    <transforms>
        <description>GTMS-26124 &amp; GTMS-26107: Created as part of Partners H1 project to map Partner Program Enrollmen</description>
        <name>Fetch_Partner_Program_Enrollment_Id</name>
        <label>Fetch Partner Program Enrollment Id</label>
        <locationX>1331</locationX>
        <locationY>452</locationY>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>currentItem_Filter_Enrollment_Records.Id</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <transforms>
        <description>GTMS-26124 &amp; GTMS-26107: Created as part of Partners H1 project to fetch partner program values</description>
        <name>Fetch_Partner_Program_Id_List</name>
        <label>Fetch Partner Program Id List</label>
        <locationX>141</locationX>
        <locationY>72</locationY>
        <connector>
            <targetReference>Get_Active_Pilot_Program_For_Partners</targetReference>
        </connector>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <scale>0</scale>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <transformValues>
            <transformValueActions>
                <transformType>Map</transformType>
                <value>
                    <elementReference>Get_Active_Pilot_Program_Enrollment_Records_For_Partners[$EachItem].Partner_Program__c</elementReference>
                </value>
            </transformValueActions>
        </transformValues>
    </transforms>
    <variables>
        <description>GTMS-25777: Added this to updated account fields for RR after PAM approved the Deal Reg PR</description>
        <name>Account_To_Update</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Account</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_Enrollment_Records</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Partner_Program_Enrollment__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Partner_Program_Filter</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Partner_Program__c</objectType>
    </variables>
    <variables>
        <description>GTMS-22784: Created as part of Partner Alignment project to add contracts links</description>
        <name>Open_Contracts</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>GTMS-22784: Created as part of Partner Alignment project to store Open PRs as hyper links</description>
        <name>Open_PRs</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Opportunities</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>GTMS-20569: Created as part of Partner System-Alignment Project</description>
        <name>Partner_Registration_Record</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <objectType>Partner_Registration__c</objectType>
    </variables>
    <variables>
        <description>GTMS-20569: Created as part of Partner System-Alignment project</description>
        <name>PR_RecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Program_Enrollment_Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>GTMS-26936: Created as part of Partners H1 project to store Sales_Program_Type value from partner program</description>
        <name>Sales_Program_Type</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>GTMS-20569: Created as part of Partner Systems Alignment project to store selected open opportunity</description>
        <name>Selected_Open_Opportunity</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
