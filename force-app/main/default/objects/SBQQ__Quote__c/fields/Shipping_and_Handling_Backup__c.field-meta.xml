<?xml version="1.0" encoding="UTF-8"?>
<CustomField xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Shipping_and_Handling_Backup__c</fullName>
    <formula>IF( DATEVALUE(CreatedDate) &gt; DATE(
VALUE(MID($Label.Cut_off_Date_for_S_H_calculcation, 1, 4)),
VALUE(MID($Label.Cut_off_Date_for_S_H_calculcation, 6, 2)),
VALUE(MID($Label.Cut_off_Date_for_S_H_calculcation, 9, 2))
) , Shipping_and_Handling_Value__c,
IF(AND(DATEVALUE(CreatedDate) &gt;= DATE(2024, 12, 12), OR(ISPICKVAL(Shipping_Country__c, &apos;United States&apos;), ISPICKVAL(Shipping_Country__c, &apos;Canada&apos;)) ),

IF(Associated_Opportunity_Type__c = &apos;Revenue Opportunity&apos;,
IF(NOT(ISBLANK(Shipping_and_Handling_Manual__c)), Shipping_and_Handling_Manual__c,
IF((of_HW_Products__c + of_Accessories__c) = 0, 0,
IF(OR(ISPICKVAL(Shipping_Method__c, &apos;Ground&apos;), ISPICKVAL(Shipping_Method__c, &apos;Worldwide Expedited&apos;)),
IF((of_HW_Products__c + of_Accessories__c) * 3.70 &gt; 15, (of_HW_Products__c + of_Accessories__c) * 3.70, 15),
IF(ISPICKVAL(Shipping_Method__c, &apos;ECONOMY&apos;),
IF((of_HW_Products__c + of_Accessories__c) * 3.70 &gt; 15, (of_HW_Products__c + of_Accessories__c) * 3.70, 15),
IF(OR(ISPICKVAL(Shipping_Method__c, &apos;Next Day Air&apos;), ISPICKVAL(Shipping_Method__c, &apos;ups_next_day_air&apos;)),
IF((of_HW_Products__c + of_Accessories__c) * 9.70 &gt; 60, (of_HW_Products__c + of_Accessories__c) * 9.70, 60),
IF(OR(BEGINS(TEXT(Shipping_Account_Type__c), &apos;Cust/Partner Account&apos;), AND(NOT(ISPICKVAL(SBQQ__Opportunity2__r.Type, &apos;Revenue Opportunity&apos;)), NOT(ISPICKVAL(SBQQ__Opportunity2__r.Type, &apos;Revenue Opportunity - Bill Only&apos;))), (of_Accessories__c + of_HW_Products__c) = 0), 0,
IF(Est_Shipping_Cost__c &gt; 0, Est_Shipping_Cost__c,
IF(AND(Freight_Cost__c &gt;= 0, Freight_Cost__c &lt;&gt; 99999.99, Freight_Cost__c &lt;&gt; 99999.00),
IF(ISPICKVAL(Configuration_Segment__c, &apos;Express&apos;),
IF(of_HW_Products__c + of_Accessories__c &lt;= 50, Freight_Cost__c + 18,
IF(of_HW_Products__c + of_Accessories__c &lt;= 100, Freight_Cost__c + 40,
IF(of_HW_Products__c + of_Accessories__c &lt;= 500, Freight_Cost__c + 75, Freight_Cost__c + 150))), Freight_Cost__c),
IF(OR(Freight_Cost__c = 99999.99, Freight_Cost__c = 99999.00), 99999.99, 0 ) ) ) ) ) ) ) ) ), 0 ),

IF(BEGINS(TEXT(Shipping_Account_Type__c), &apos;Cust/Partner Account&apos;) || (NOT(ISPICKVAL( SBQQ__Opportunity2__r.Type ,&apos;Revenue Opportunity&apos;)) &amp;&amp; NOT(ISPICKVAL(SBQQ__Opportunity2__r.Type ,&apos;Revenue Opportunity - Bill Only&apos;))) || (of_Accessories__c + of_HW_Products__c) = 0, 0,
IF(NOT(ISBLANK(Shipping_and_Handling_Manual__c)), Shipping_and_Handling_Manual__c,
IF(Est_Shipping_Cost__c &gt; 0, Est_Shipping_Cost__c,
IF(Freight_Cost__c &gt;= 0 &amp;&amp; Freight_Cost__c &lt;&gt; 99999.99 &amp;&amp; Freight_Cost__c &lt;&gt; 99999.00,
IF(ISPICKVAL(Configuration_Segment__c,&apos;Express&apos;),
IF(of_HW_Products__c + of_Accessories__c &lt;= 50, Freight_Cost__c + 18,
IF(of_HW_Products__c + of_Accessories__c &lt;= 100, Freight_Cost__c + 40,
IF(of_HW_Products__c + of_Accessories__c &lt;= 500, Freight_Cost__c + 75, Freight_Cost__c + 150))), Freight_Cost__c),
IF(Freight_Cost__c = 99999.99 || Freight_Cost__c = 99999.00, 99999.99, 0 ) ) ) ) ) )
)</formula>
    <label>Shipping and Handling Backup</label>
    <precision>18</precision>
    <required>false</required>
    <scale>2</scale>
    <trackHistory>false</trackHistory>
    <trackTrending>false</trackTrending>
    <type>Currency</type>
</CustomField>
