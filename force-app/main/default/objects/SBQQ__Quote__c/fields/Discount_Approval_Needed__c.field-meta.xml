<?xml version="1.0" encoding="UTF-8"?>
<CustomField xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Discount_Approval_Needed__c</fullName>
    <formula>OR(

	Associated_Opportunity_Type__c = &apos;Promo Opportunity&apos;
	&amp;&amp; TEXT( SBQQ__Status__c ) &lt;&gt; &apos;Approved&apos;,
	
	AND(
		Blended_Discount__c &gt; Approved_Discount__c,
		OR(
			AND(
				TEXT(Configuration_Segment__c) = &apos;Express&apos; , 
				Blended_Discount__c &gt; 0.15,
				Checkout_Discount__c = 0
				),
			AND(
				
				TEXT(Configuration_Segment__c) = &apos;Non Express&apos;, 
				OR(ISPICKVAL(Selected_Payment_Type__c , &apos;Direct Monthly&apos;), ISPICKVAL(Selected_Payment_Type__c , &apos;Direct Quarterly&apos;),ISPICKVAL(Selected_Payment_Type__c , &apos;Direct Semi-Annual&apos;) ),
				
				OR(
					AND(SBQQ__SubscriptionTerm__c &lt; 60, Blended_Discount__c &gt; 0.05),
					AND(SBQQ__SubscriptionTerm__c &gt;=60, Blended_Discount__c &gt; 0.15)
				)
			),
			OR(
			
				AND(TEXT(Configuration_Segment__c) = &apos;Non Express&apos;,
				
					OR(
						AND(SBQQ__SubscriptionTerm__c &lt; 36, 
							Blended_Discount__c &gt; 0.05
							),
						AND(SBQQ__SubscriptionTerm__c &gt;= 36, 
							SBQQ__SubscriptionTerm__c &lt; 60, Blended_Discount__c &gt; 0.15
							),
						AND(SBQQ__SubscriptionTerm__c &gt;= 60, 
							Blended_Discount__c &gt; 0.25
							)
					)
				)
			)
		)
	)
)</formula>
    <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
    <label>Discount Approval Needed</label>
    <trackHistory>false</trackHistory>
    <trackTrending>false</trackTrending>
    <type>Checkbox</type>
</CustomField>
