<?xml version="1.0" encoding="UTF-8"?>
<CustomMetadata xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <label>DHS WaveQuery</label>
    <protected>false</protected>
    <values>
        <field>Config_JSON__c</field>
        <value xsi:type="xsd:string">{
  &quot;Query&quot;: &quot;q = load \&quot;{DATASET_ID}\&quot;;\nq = filter q by &apos;License_Term_Buckets&apos; == \&quot;{LICENSE_TERM}\&quot; &amp;&amp; Product_Importance_Tagging == \&quot;{PRODUCT_IMPORTANCE}\&quot; &amp;&amp; &apos;Renewal_Flag_CoE&apos; == \&quot;{RENEWAL_FLAG}\&quot; &amp;&amp; &apos;Industry_Tagging_CoE&apos; == \&quot;{INDUSTRY}\&quot; &amp;&amp; &apos;Region_Tagging_CoE&apos; == \&quot;{REGION}\&quot; &amp;&amp; &apos;Revenue_Band&apos; == \&quot;{REVENUE_BAND}\&quot; &amp;&amp; &apos;One_Time_Discount_Mapping&apos; == \&quot;{OTD}\&quot; &amp;&amp; &apos;Selected_Payment_Type&apos; == \&quot;{PAYMENT_TYPE}\&quot;;\nq = group q by all;\nq = foreach q generate first(q.&apos;Q1&apos;) as &apos;Q1&apos;, first(q.&apos;Q2&apos;) - first(q.&apos;Q1&apos;) as &apos;Q2&apos;, first(q.&apos;Q3&apos;) - first(q.&apos;Q2&apos;) as &apos;Q3&apos;, (case when \&quot;TBD\&quot; == \&quot;Deteriorated Payment\&quot; then -5 else 0 end) as &apos;Add&apos;;\nq = foreach q generate &apos;Q1&apos; + &apos;Add&apos; as &apos;Q1&apos;, &apos;Q2&apos; as &apos;Q2&apos;,&apos;Q3&apos; as &apos;Q3&apos;;\nq1 = foreach q generate &apos;Q1&apos;  as &apos;Quartile&apos;, \&quot;1.Green\&quot; as Score, \&quot;\&quot; as &apos;Blank&apos;, \&quot;0 - \&quot; + number_to_string(Q1, \&quot;##\&quot;) + \&quot;%\&quot; as &apos;textscore&apos;;\nq2= foreach q generate &apos;Q2&apos; as &apos;Quartile&apos;, \&quot;2.Yellow\&quot; as Score,\&quot;\&quot; as &apos;Blank&apos;, number_to_string(&apos;Q1&apos;,\&quot;##\&quot;) + \&quot; - \&quot; + number_to_string(&apos;Q1&apos; + &apos;Q2&apos;,\&quot;##\&quot;) + \&quot;%\&quot; as &apos;textscore&apos;;\nq3 = foreach q generate &apos;Q3&apos; as &apos;Quartile&apos;, \&quot;3.Orange\&quot; as Score, \&quot;\&quot; as &apos;Blank&apos;,number_to_string(&apos;Q1&apos; +&apos;Q2&apos;,\&quot;##\&quot;) + \&quot; - \&quot; + number_to_string(Q1 + &apos;Q2&apos; + &apos;Q3&apos;,\&quot;##\&quot;) + \&quot;%\&quot; as &apos;textscore&apos;;\nq4 = foreach q generate (case when {BLENDED_DISCOUNT} &gt; &apos;Q1&apos; + &apos;Q2&apos; + &apos;Q3&apos;+ 10 then {BLENDED_DISCOUNT} - Q3 - Q2 - Q1 + 5 else &apos;Q3&apos;+ 10 end) as &apos;Quartile&apos;, \&quot;4.Red\&quot; as Score, \&quot;\&quot; as &apos;Blank&apos;, number_to_string(Q1 + Q2 + &apos;Q3&apos;, \&quot;##\&quot;) + \&quot;%\&quot; + \&quot; +\&quot; as &apos;textscore&apos;;\nq5 = foreach q generate 0 as &apos;Quartile&apos;, \&quot;\&quot; as &apos;Score&apos;, \&quot;a\&quot; as &apos;Blank&apos;, \&quot;\&quot; as &apos;textscore&apos;;\nresult = cogroup q1 by (Score, Blank,textscore) full, q2 by (Score,Blank,textscore) full, q3 by (Score, Blank,textscore) full, q4 by (Score, Blank,textscore) full, q5 by (Score, Blank,textscore);\nresult = foreach result generate coalesce(q1.Score, q2.Score, q3.Score, q4.Score) as Score, coalesce(sum(q1.Quartile), sum(q2.Quartile), sum(q3.Quartile), sum(q4.Quartile)) as Quartile, coalesce(q1.textscore,q2.textscore,q3.textscore,q4.textscore,q5.textscore) as textscore, q5.Blank as Blank;\nresult = group result by (Score, textscore);\nresult = foreach result generate Score, textscore, first(Quartile) as Quartile;&quot;
}</value>
    </values>
    <values>
        <field>Config_Type__c</field>
        <value xsi:type="xsd:string">DHS_WaveQuery</value>
    </values>
</CustomMetadata>
